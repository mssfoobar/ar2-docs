"use strict";(self.webpackChunk_mssfoobar_docs=self.webpackChunk_mssfoobar_docs||[]).push([[9060],{61710:(e,t,o)=>{o.r(t),o.d(t,{assets:()=>u,contentTitle:()=>d,default:()=>c,frontMatter:()=>r,metadata:()=>n,toc:()=>a});const n=JSON.parse('{"id":"modules/iams/deployment/configuring-for-production/limit-the-number-of-queued-requests","title":"Limit the number of queued requests","description":"A production environment should protect itself from an overload situation, so that it responds to as many valid requests as possible, and to continue regular operations once the situation returns to normal again. One way of doing this is rejecting additional requests once a certain threshold is reached.","source":"@site/docs/modules/iams/deployment/configuring-for-production/limit-the-number-of-queued-requests.md","sourceDirName":"modules/iams/deployment/configuring-for-production","slug":"/modules/iams/deployment/configuring-for-production/limit-the-number-of-queued-requests","permalink":"/docs/docs/modules/iams/deployment/configuring-for-production/limit-the-number-of-queued-requests","draft":false,"unlisted":false,"editUrl":"https://github.com/mssfoobar/docs/tree/main/docs/modules/iams/deployment/configuring-for-production/limit-the-number-of-queued-requests.md","tags":[],"version":"current","sidebarPosition":7,"frontMatter":{"sidebar_position":7},"sidebar":"modulesSidebar","previous":{"title":"Exposing the Keycloak Administration APIs and UI on a different hostname","permalink":"/docs/docs/modules/iams/deployment/configuring-for-production/exposing-keycloak-on-different-hostname"},"next":{"title":"Deploy IAMS-Keycloak","permalink":"/docs/docs/modules/iams/deployment/deploy-iams-keycloak"}}');var s=o(74848),i=o(28453);const r={sidebar_position:7},d="Limit the number of queued requests",u={},a=[];function l(e){const t={code:"code",h1:"h1",header:"header",p:"p",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.header,{children:(0,s.jsx)(t.h1,{id:"limit-the-number-of-queued-requests",children:"Limit the number of queued requests"})}),"\n",(0,s.jsx)(t.p,{children:"A production environment should protect itself from an overload situation, so that it responds to as many valid requests as possible, and to continue regular operations once the situation returns to normal again. One way of doing this is rejecting additional requests once a certain threshold is reached."}),"\n",(0,s.jsx)(t.p,{children:"Load shedding should be implemented on all levels, including the load balancers in your environment. In addition to that, there is a feature in Keycloak to limit the number of requests that can\u2019t be processed right away and need to be queued."}),"\n",(0,s.jsx)(t.p,{children:"By default, there is no limit set. Set the option http-max-queued-requests to limit the number of queued requests to a given threshold matching your environment. Any request that exceeds this limit would return with an immediate 503 Server not Available response."}),"\n",(0,s.jsx)(t.p,{children:"To set http-max-queued-requests, use the following environment variable:"}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.code,{children:"KC_HTTP_MAX_QUEUED_REQUESTS"})})]})}function c(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(l,{...e})}):l(e)}},28453:(e,t,o)=>{o.d(t,{R:()=>r,x:()=>d});var n=o(96540);const s={},i=n.createContext(s);function r(e){const t=n.useContext(i);return n.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function d(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:r(e.components),n.createElement(i.Provider,{value:t},e.children)}}}]);